best ckpt效果普遍没有ckpt0好，个人猜测是因为batch size原因，ckpt0使用两卡（bs=32），best ckpt使用八卡（bs=128）。



# ckpt0

## Unxicoder

|         | Accuracy  | Precision |  Recall   |    F1     |    AUC    |
| :-----: | :-------: | :-------: | :-------: | :-------: | :-------: |
|  Fold1  | 0.890110  | 0.871681  | 0.903670  | 0.887387  | 0.929383  |
|  Fold2  | 0.848352  | 0.818548  | 0.894273  | 0.854737  | 0.912001  |
|  Fold3  | 0.879121  | 0.877637  | 0.888889  | 0.883227  | 0.934979  |
|  Fold4  | 0.863736  | 0.848341  | 0.856459  | 0.852381  | 0.926956  |
|  Fold5  | 0.852423  | 0.837838  | 0.857143  | 0.847380  | 0.913774  |
| Average | 0.8667484 | 0.850809  | 0.8800868 | 0.8650224 | 0.9234186 |

## GraphCodeBert

|         | Accuracy  | Precision |  Recall   |    F1    |   AUC    |
| :-----: | :-------: | :-------: | :-------: | :------: | :------: |
|  Fold1  | 0.887912  | 0.881279  | 0.885321  | 0.883295 | 0.901231 |
|  Fold2  | 0.879121  | 0.858333  | 0.907489  | 0.882227 | 0.919700 |
|  Fold3  | 0.872527  | 0.876068  | 0.876068  | 0.876068 | 0.926074 |
|  Fold4  | 0.868132  | 0.825328  | 0.904306  | 0.863014 | 0.931575 |
|  Fold5  | 0.863436  | 0.847534  | 0.870968  | 0.859091 | 0.915145 |
| Average | 0.8742256 | 0.8577084 | 0.8888304 | 0.872739 | 0.918745 |

## Codet5 base

|         | Accuracy  | Precision |  Recall   |    F1     |    AUC    |
| :-----: | :-------: | :-------: | :-------: | :-------: | :-------: |
|  Fold1  | 0.883516  | 0.883721  | 0.871560  | 0.877598  | 0.928396  |
|  Fold2  | 0.865934  | 0.854701  | 0.881057  | 0.867679  | 0.930501  |
|  Fold3  | 0.874725  | 0.889868  | 0.863248  | 0.876356  | 0.932997  |
|  Fold4  | 0.865934  | 0.859223  | 0.846890  | 0.853012  | 0.914197  |
|  Fold5  | 0.852423  | 0.847222  | 0.843318  | 0.845266  | 0.899065  |
| Average | 0.8685064 | 0.866947  | 0.8612146 | 0.8639822 | 0.9210312 |

## Codet5p 220m

|         | Accuracy  | Precision |  Recall   |    F1     |   AUC    |
| :-----: | :-------: | :-------: | :-------: | :-------: | :------: |
|  Fold1  | 0.876923  | 0.852174  | 0.899083  | 0.875000  | 0.920731 |
|  Fold2  | 0.872527  | 0.862661  | 0.885463  | 0.873913  | 0.917942 |
|  Fold3  | 0.890110  | 0.910714  | 0.871795  | 0.890830  | 0.930754 |
|  Fold4  | 0.863736  | 0.841860  | 0.866029  | 0.853774  | 0.935416 |
|  Fold5  | 0.856828  | 0.830435  | 0.880184  | 0.854586  | 0.904937 |
| Average | 0.8720248 | 0.8595688 | 0.8805108 | 0.8696206 | 0.921956 |



# Best ckpt

## Unxicoder - ckpt 1

|         | Accuracy  | Precision |  Recall   |    F1     |    AUC    |
| :-----: | :-------: | :-------: | :-------: | :-------: | :-------: |
|  Fold1  | 0.874725  | 0.860987  | 0.880734  | 0.870748  | 0.926828  |
|  Fold2  | 0.870330  | 0.868421  | 0.872247  | 0.870330  | 0.904011  |
|  Fold3  | 0.868132  | 0.848000  | 0.905983  | 0.876033  | 0.924730  |
|  Fold4  | 0.848352  | 0.827103  | 0.846890  | 0.836879  | 0.918145  |
|  Fold5  | 0.852423  | 0.831858  | 0.866359  | 0.848758  | 0.893154  |
| Average | 0.8627924 | 0.8472738 | 0.8744426 | 0.8605496 | 0.9133736 |

## GraphCodeBert - ckpt 7

|         | Accuracy  | Precision |  Recall   |    F1     |    AUC    |
| :-----: | :-------: | :-------: | :-------: | :-------: | :-------: |
|  Fold1  | 0.879121  | 0.859031  | 0.894495  | 0.876404  | 0.915563  |
|  Fold2  | 0.861538  | 0.838843  | 0.894273  | 0.865672  | 0.904649  |
|  Fold3  | 0.865934  | 0.858921  | 0.884615  | 0.871579  | 0.929361  |
|  Fold4  | 0.863736  | 0.841860  | 0.866029  | 0.853774  | 0.934366  |
|  Fold5  | 0.848018  | 0.836364  | 0.847926  | 0.842105  | 0.910479  |
| Average | 0.8636694 | 0.8470038 | 0.8774676 | 0.8619068 | 0.9188836 |

## Codet5 base - ckpt 7

|         | Accuracy  | Precision |  Recall   |    F1     |    AUC    |
| :-----: | :-------: | :-------: | :-------: | :-------: | :-------: |
|  Fold1  | 0.890110  | 0.885321  | 0.885321  | 0.885321  | 0.914963  |
|  Fold2  | 0.861538  | 0.862832  | 0.859031  | 0.860927  | 0.917111  |
|  Fold3  | 0.861538  | 0.857741  | 0.876068  | 0.866808  | 0.925513  |
|  Fold4  | 0.865934  | 0.852381  | 0.856459  | 0.854415  | 0.923241  |
|  Fold5  | 0.843612  | 0.814655  | 0.870968  | 0.841871  | 0.892570  |
| Average | 0.8645464 | 0.854586  | 0.8695694 | 0.8618684 | 0.9146796 |

## Codet5p 220m - ckpt 2

|         | Accuracy  | Precision |  Recall   |    F1     |    AUC    |
| :-----: | :-------: | :-------: | :-------: | :-------: | :-------: |
|  Fold1  | 0.885714  | 0.880734  | 0.880734  | 0.880734  | 0.927080  |
|  Fold2  | 0.870330  | 0.852941  | 0.894273  | 0.873118  | 0.927419  |
|  Fold3  | 0.874725  | 0.889868  | 0.863248  | 0.876356  | 0.929381  |
|  Fold4  | 0.857143  | 0.839623  | 0.851675  | 0.845606  | 0.933608  |
|  Fold5  | 0.832599  | 0.783133  | 0.898618  | 0.836910  | 0.907513  |
| Average | 0.8641022 | 0.8492598 | 0.8777096 | 0.8625448 | 0.9250002 |





# Additional

## Bert - ckpt0(best)

这组是昨天刚跑出来的

|         | Accuracy  | Precision |  Recall  |    F1     |   AUC    |
| :-----: | :-------: | :-------: | :------: | :-------: | :------: |
|  Fold1  | 0.861538  | 0.841410  | 0.876147 | 0.858427  | 0.903641 |
|  Fold2  | 0.868132  | 0.838057  | 0.911894 | 0.873418  | 0.901702 |
|  Fold3  | 0.859341  | 0.845528  | 0.888889 | 0.866667  | 0.904755 |
|  Fold4  | 0.865934  | 0.824561  | 0.899522 | 0.860412  | 0.913691 |
|  Fold5  | 0.823789  | 0.807175  | 0.829493 | 0.818182  | 0.873301 |
| Average | 0.8557468 | 0.8313462 | 0.881189 | 0.8554212 | 0.899418 |

这组是之前跑的

|         | Accuracy  | Precision |  Recall   |    F1     |    AUC    |
| :-----: | :-------: | :-------: | :-------: | :-------: | :-------: |
|  Fold1  | 0.854305  | 0.884793  | 0.824034  | 0.853333  | 0.903629  |
|  Fold2  | 0.854305  | 0.867841  | 0.845494  | 0.856522  | 0.904321  |
|  Fold3  | 0.883516  | 0.917051  | 0.850427  | 0.882483  | 0.935221  |
|  Fold4  | 0.841410  | 0.843220  | 0.850427  | 0.846809  | 0.891531  |
|  Fold5  | 0.869757  | 0.866109  | 0.884615  | 0.875264  | 0.916920  |
| Average | 0.8606586 | 0.8758028 | 0.8509994 | 0.8628822 | 0.9103244 |
